{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import'./Stories.css';import Spinner from'../Spinner/Spinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Stories(){const{id}=useParams();const[story,setStory]=useState(null);const[index,setIndex]=useState(0);const[loading,setLoading]=useState(true);useEffect(()=>{fetch(`http://localhost:5000/api/stories/${id}`).then(res=>res.json()).then(data=>{setStory(data);setLoading(false);}).catch(err=>{console.error('Error:',err);setLoading(false);});},[id]);if(loading)return/*#__PURE__*/_jsx(Spinner,{});if(!story||!story.slides||story.slides.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"No story found\"});const slide=story.slides[index];const next=()=>setIndex(prev=>(prev+1)%story.slides.length);const prev=()=>setIndex(prev=>(prev-1+story.slides.length)%story.slides.length);return/*#__PURE__*/_jsxs(\"div\",{className:\"story-viewer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"story-slide\",children:[/*#__PURE__*/_jsx(\"img\",{src:slide.image,alt:\"story\",className:\"story-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"story-quote\",children:slide.quote})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"story-nav\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prev,children:\"\\u276E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:next,children:\"\\u276F\"})]})]});}export default Stories;","map":{"version":3,"names":["React","useEffect","useState","useParams","Spinner","jsx","_jsx","jsxs","_jsxs","Stories","id","story","setStory","index","setIndex","loading","setLoading","fetch","then","res","json","data","catch","err","console","error","slides","length","children","slide","next","prev","className","src","image","alt","quote","onClick"],"sources":["C:/Users/surid/Desktop/Learning/WEB/Projects/Web Stories/my-app/src/components/Stories/Stories.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport './Stories.css';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nfunction Stories() {\r\n  const { id } = useParams();\r\n  const [story, setStory] = useState(null);\r\n  const [index, setIndex] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:5000/api/stories/${id}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setStory(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error:', err);\r\n        setLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  if (loading) return <Spinner />;\r\n  if (!story || !story.slides || story.slides.length === 0) return <p>No story found</p>;\r\n\r\n  const slide = story.slides[index];\r\n\r\n  const next = () => setIndex((prev) => (prev + 1) % story.slides.length);\r\n  const prev = () => setIndex((prev) => (prev - 1 + story.slides.length) % story.slides.length);\r\n\r\n  return (\r\n    <div className=\"story-viewer\">\r\n      <div className=\"story-slide\">\r\n        <img src={slide.image} alt=\"story\" className=\"story-image\" />\r\n        <div className=\"story-quote\">{slide.quote}</div>\r\n      </div>\r\n\r\n      <div className=\"story-nav\">\r\n        <button onClick={prev}>❮</button>\r\n        <button onClick={next}>❯</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stories;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,eAAe,CACtB,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdgB,KAAK,CAAC,qCAAqCP,EAAE,EAAE,CAAC,CAC7CQ,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAK,CACdT,QAAQ,CAACS,IAAI,CAAC,CACdL,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,KAAK,CAAC,QAAQ,CAAEF,GAAG,CAAC,CAC5BP,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,CAACN,EAAE,CAAC,CAAC,CAER,GAAIK,OAAO,CAAE,mBAAOT,IAAA,CAACF,OAAO,GAAE,CAAC,CAC/B,GAAI,CAACO,KAAK,EAAI,CAACA,KAAK,CAACe,MAAM,EAAIf,KAAK,CAACe,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,mBAAOrB,IAAA,MAAAsB,QAAA,CAAG,gBAAc,CAAG,CAAC,CAEtF,KAAM,CAAAC,KAAK,CAAGlB,KAAK,CAACe,MAAM,CAACb,KAAK,CAAC,CAEjC,KAAM,CAAAiB,IAAI,CAAGA,CAAA,GAAMhB,QAAQ,CAAEiB,IAAI,EAAK,CAACA,IAAI,CAAG,CAAC,EAAIpB,KAAK,CAACe,MAAM,CAACC,MAAM,CAAC,CACvE,KAAM,CAAAI,IAAI,CAAGA,CAAA,GAAMjB,QAAQ,CAAEiB,IAAI,EAAK,CAACA,IAAI,CAAG,CAAC,CAAGpB,KAAK,CAACe,MAAM,CAACC,MAAM,EAAIhB,KAAK,CAACe,MAAM,CAACC,MAAM,CAAC,CAE7F,mBACEnB,KAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAJ,QAAA,eAC3BpB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAJ,QAAA,eAC1BtB,IAAA,QAAK2B,GAAG,CAAEJ,KAAK,CAACK,KAAM,CAACC,GAAG,CAAC,OAAO,CAACH,SAAS,CAAC,aAAa,CAAE,CAAC,cAC7D1B,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAJ,QAAA,CAAEC,KAAK,CAACO,KAAK,CAAM,CAAC,EAC7C,CAAC,cAEN5B,KAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAJ,QAAA,eACxBtB,IAAA,WAAQ+B,OAAO,CAAEN,IAAK,CAAAH,QAAA,CAAC,QAAC,CAAQ,CAAC,cACjCtB,IAAA,WAAQ+B,OAAO,CAAEP,IAAK,CAAAF,QAAA,CAAC,QAAC,CAAQ,CAAC,EAC9B,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAnB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}